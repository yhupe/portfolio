<!DOCTYPE html>
<html lang="en" class="bg-ink-900 text-paper-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Welcome!{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="/static/img/favicon.ico" sizes="any" />

  <link rel="stylesheet" href="/static/css/output.css?v=2" />

  <!-- GSAP + ScrollTrigger -->
  <script defer src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script defer src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

  <!-- Theme toggle script -->
  <script>
    (function() {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') document.documentElement.classList.add('dark','bg-ink-900');
      if (saved === 'light') document.documentElement.classList.remove('dark');
    })();
  </script>
</head>

<body class="min-h-screen flex flex-col transition-colors duration-300 bg-ink-900 text-paper-100">

  <!-- Navbar -->
  <header class="fixed top-0 left-0 right-0 z-50 backdrop-blur supports-backdrop-blur:bg-ink-900/60 bg-ink-900/80 border-b border-white/5">
    <div class="container mx-auto px-4 h-16 flex items-center justify-between">
      <a href="/" class="font-semibold tracking-wide">Hannes</a>

      <nav class="hidden md:flex gap-6 text-sm">
        <a href="/" class="hover:text-accent-sky">Home</a>
        <a href="/about" class="hover:text-accent-mint">About</a>
        <a href="/projects" class="hover:text-accent-peach">Projects</a>
        <a href="/blog" class="hover:text-accent-lilac">Blog</a>
        <a href="/contact" class="hover:text-accent-mint">Contact</a>
      </nav>

      <!-- Light/Dark toggle -->
      <button id="themeToggle"
        class="rounded px-3 py-1 text-xs border border-white/10 hover:border-white/20 hover:bg-white/5">
        Toggle theme
      </button>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-1 container mx-auto px-4 pt-24 pb-12">
    {% block content %}
    <!-- Hero -->
    <section id="hero" class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-semibold leading-tight">
          Building a <span class="text-accent-peach">thoughtful</span>,<br/>
          <span class="text-accent-mint">elegant</span> portfolio with<br/>
          subtle <span class="text-accent-sky">motion</span>.
        </h1>
        <p class="mt-4 text-white/70 max-w-prose">
          Not boring white. Soft blacks, softened whites, and smart micro-interactions.
        </p>
        <div class="mt-8 flex gap-3">
          <a href="/projects" class="px-4 py-2 rounded bg-white/10 hover:bg-white/15 border border-white/10">View Projects</a>
          <a href="/cv" class="px-4 py-2 rounded bg-accent-mint/20 hover:bg-accent-mint/30 border border-accent-mint/40">Download CV</a>
        </div>
      </div>
      <div class="h-64 md:h-80 rounded-xl bg-ink-800 border border-white/5 shadow-soft" id="heroCard"></div>
    </section>

    <!-- Scroll section -->
    <section class="mt-24 space-y-4" id="scrollBits">
      <h2 class="text-2xl font-medium">Scroll surprises</h2>
      <p class="text-white/60">Light, witty, not overdone.</p>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="h-32 rounded-lg bg-ink-800 border border-white/10 shadow-soft"></div>
        <div class="h-32 rounded-lg bg-ink-800 border border-white/10 shadow-soft"></div>
        <div class="h-32 rounded-lg bg-ink-800 border border-white/10 shadow-soft"></div>
      </div>
    </section>
    {% endblock %}
  </main>

  <!-- Footer -->
  <footer class="border-t border-white/5 py-6 text-xs text-white/50">
    <div class="container mx-auto px-4 flex justify-between">
      <span>Â© {{ year }} Hannes Pickel</span>
      <a href="/imprint" class="hover:text-accent-lilac">Imprint</a>
    </div>
  </footer>

  <!-- Page JS -->
  <script>
    // Theme toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      const root = document.documentElement;
      const isDark = root.classList.toggle('dark');
      if (isDark) {
        root.classList.add('bg-ink-900');
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    });

    window.addEventListener('load', () => {
      if (!window.gsap || !window.ScrollTrigger) return;
      gsap.registerPlugin(ScrollTrigger);

      // Hero animation
      gsap.from("#heroCard", { y: 30, opacity: 0, duration: 0.8, ease: "power2.out" });
      gsap.from("#hero h1 span", { opacity: 0, y: 8, stagger: 0.08, duration: 0.5, ease: "power2.out", delay: 0.1 });

      // Scroll section stagger animation
      const cards = gsap.utils.toArray("#scrollBits .rounded-lg");
      gsap.from(cards, {
        scrollTrigger: {
          trigger: "#scrollBits",
          start: "top 75%",
          once: true
          // markers: true
        },
        y: 20,
        opacity: 0,
        duration: 0.6,
        ease: "power2.out",
        stagger: 0.08
      });
    });
  </script>

</body>
</html>
