<!DOCTYPE html>
<html lang="en" class="bg-ink-900 text-paper-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Welcome!{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="/static/img/favicon.ico" sizes="any" />

  <!-- Tailwind CSS -->
  <link rel="stylesheet" href="/static/css/output.css" />

  <!-- GSAP + ScrollTrigger -->
  <script defer src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script defer src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

  <!-- Theme application from LocalStorage  (avoids FOUC) -->
  <script>
    (function () {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') document.documentElement.classList.add('dark','bg-ink-900');
      if (saved === 'light') document.documentElement.classList.remove('dark');
    })();
  </script>

  {% block head_extra %}{% endblock %}
</head>

<body class="min-h-screen flex flex-col transition-colors duration-300 bg-ink-900 text-paper-100">

  <!-- Navbar -->
  <header class="fixed top-0 left-0 right-0 z-50 backdrop-blur supports-backdrop-blur:bg-ink-900/60 bg-ink-900/80 border-b border-white/5">
    <div class="container mx-auto px-4 h-16 flex items-center justify-between">
      <a href="/" class="font-semibold tracking-wide">Hannes</a>

      <nav class="hidden md:flex gap-6 text-sm">
        <a href="/" class="hover:text-accent-sky">Home</a>
        <a href="/about" class="hover:text-accent-mint">About</a>
        <a href="/projects" class="hover:text-accent-peach">Projects</a>
        <a href="/blog" class="hover:text-accent-lilac">Blog</a>
        <a href="/contact" class="hover:text-accent-mint">Contact</a>
      </nav>

    <!-- 10:00 Berlin = 08:00 UTC -->
    <!-- Countdown: 4 columns with space -->
    <div id="siteCountdown"
         data-target="2025-08-21T10:45:00Z"
         class="flex items-center gap-2 md:gap-3"
         style="gap: 16px;">

      <!-- Days -->
      <div class="flex flex-col items-center justify-center w-[4.5rem] md:w-[5rem] px-2 py-1
                  rounded-lg shadow-soft shrink-0">
        <span class="count-num text-accent-peach text-base md:text-lg font-semibold tabular-nums leading-none">00</span>
        <span class="text-[10px] uppercase tracking-wide opacity-70 mt-0.5">days</span>
      </div>

      <!-- Hours -->
      <div class="flex flex-col items-center justify-center w-[4.5rem] md:w-[5rem] px-2 py-1
                  rounded-lg shadow-soft shrink-0">
        <span class="count-num text-accent-peach text-base md:text-lg font-semibold tabular-nums leading-none">00</span>
        <span class="text-[10px] uppercase tracking-wide opacity-70 mt-0.5">hours</span>
      </div>

      <!-- Minutes -->
      <div class="flex flex-col items-center justify-center w-[4.5rem] md:w-[5rem] px-2 py-1
                  rounded-lg shadow-soft shrink-0">
        <span class="count-num text-accent-peach text-base md:text-lg font-semibold tabular-nums leading-none">00</span>
        <span class="text-[10px] uppercase tracking-wide opacity-70 mt-0.5">min</span>
      </div>

      <!-- Seconds -->
      <div class="flex flex-col items-center justify-center w-[4.5rem] md:w-[5rem] px-2 py-1
                  rounded-lg shadow-soft shrink-0">
        <span class="count-num text-accent-peach text-base md:text-lg font-semibold tabular-nums leading-none">00</span>
        <span class="text-[10px] uppercase tracking-wide opacity-70 mt-0.5">sec</span>
      </div>
    </div>

    </div>
  </header>

  <!-- Main area: pages fill content here -->
  <main class="flex-1 container mx-auto px-4 pt-24 pb-12">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="border-t border-white/5 py-6 text-xs text-white/50">
    <div class="container mx-auto px-4 flex justify-between">
      <span>2025 - Â© {{ year }} Hannes Pickel</span>
      <a href="/imprint" class="hover:text-accent-lilac">Imprint</a>
    </div>
  </footer>

  <!-- Global Skripts (no animations) -->
  <script>
    // Theme Toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      const root = document.documentElement;
      const isDark = root.classList.toggle('dark');
      if (isDark) {
        root.classList.add('bg-ink-900');
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    });

    // GSAP/ScrollTrigger registration only ; page-spezific animations in scripts_extra
    window.addEventListener('load', () => {
      if (window.gsap && window.ScrollTrigger) gsap.registerPlugin(ScrollTrigger);
    });
  </script>

    <!-- js code for timer -->
<script>
(() => {
  const box = document.getElementById('siteCountdown');
  if (!box) return;

  const target = new Date(box.dataset.target).getTime();
  const nums = box.querySelectorAll('.count-num'); // Order: Days, Hours, Minutes, Seconds
  const [dEl, hEl, mEl, sEl] = nums;

  const pad2 = n => String(n).padStart(2, '0');

  function update() {
    const now = Date.now();
    let diff = target - now;

    if (diff <= 0) {
      // Countdown ready
      dEl.textContent = '00';
      hEl.textContent = '00';
      mEl.textContent = '00';
      sEl.textContent = '00';
      clearInterval(timer);
      return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    diff -= days * (1000 * 60 * 60 * 24);

    const hours = Math.floor(diff / (1000 * 60 * 60));
    diff -= hours * (1000 * 60 * 60);

    const minutes = Math.floor(diff / (1000 * 60));
    diff -= minutes * (1000 * 60);

    const seconds = Math.floor(diff / 1000);

    // write into columns
    dEl.textContent = days;
    hEl.textContent = pad2(hours);
    mEl.textContent = pad2(minutes);
    sEl.textContent = pad2(seconds);
  }

  // Start
  update();
  const timer = setInterval(update, 1000);
})();
</script>


  {% block scripts_extra %}{% endblock %}
</body>
</html>


